const weather={apiKeyGeolocation:"13841960-bf98-11ec-bdc4-5134c1fdde2f",apiKeyWeather:"3e8a0bbe211322aafb5fdd50c0c3150e",displayWeather:e=>{const t=e=>{const t={},r=new Date(1e3*e),n=r.toLocaleString("en-US",{weekday:"short"}),o=r.toLocaleString("en-US",{day:"numeric"}),a=r.toLocaleString("en-US",{month:"short"}),i=r.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return t.date=`${n}, ${a} ${o}`,t.time=i,t},{name:r}=e,{date:n}=t(e.dt),{description:o,icon:a}=e.weather[0],{temp:i,feels_like:c,temp_min:l,temp_max:u,pressure:d,humidity:s}=e.main,h=t(e.sys.sunrise).time,m=t(e.sys.sunset).time,{speed:y}=e.wind,{all:p}=e.clouds;document.querySelector(".city").innerText=`Weather in ${r}`,document.querySelector(".date").innerText=n,document.querySelector(".temp").innerText=`${Math.round(i)}째C`,document.querySelector(".icon").src=`https://openweathermap.org/img/wn/${a}.png`,document.querySelector(".description").innerText=o,document.querySelector(".temp-min-max .min").innerText=`${Math.round(l)}째C`,document.querySelector(".temp-min-max .max").innerText=`${Math.round(u)}째C`,document.querySelector(".feels").innerText=`Feels like: ${Math.round(c)}째C`,document.querySelector(".sunrise").innerText=`Sunrise: ${h}`,document.querySelector(".sunset").innerText=`Sunset: ${m}`,document.querySelector(".wind").innerText=`Wind speed: ${y.toFixed(1)}m/s`,document.querySelector(".pressure").innerText=`Pressure: ${d}hPa`,document.querySelector(".humidity").innerText=`Humidity: ${s}%`,document.querySelector(".clouds").innerText=`Clouds: ${p}%`,document.querySelector(".help-text").innerText="The sunrise and sunset times are based on your local time.",document.querySelector(".weather").classList.remove("loading"),document.body.style.background=`linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://source.unsplash.com/random/?${r}')`},getWeather:(e,t)=>{fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&units=metric&appid=${weather.apiKeyWeather}`).then((e=>(e.ok||alert("No weather information found, Please try again."),e.json()))).then((e=>weather.displayWeather(e))).catch((e=>{alert("No weather information found, Please try again.")}))},getCityCoordinate:e=>{fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${e}&appid=${weather.apiKeyWeather}`).then((e=>(e.ok||alert("No city found, Please try again."),e.json()))).then((e=>weather.getWeather(e[0].lat,e[0].lon))).catch((e=>{alert("No city found, Please try again.")}))},getGeolocationByIP:()=>{fetch(`https://api.ipbase.com/json/?apikey=${weather.apiKeyGeolocation}`).then((e=>(e.ok||alert("No city found, Please enter your city."),e.json()))).then((e=>weather.getWeather(e.latitude,e.longitude))).catch((e=>{alert("No city found, Please enter your city.")}))},getGeolocationByGPS:()=>{const e=e=>{const{latitude:t,longitude:r}=e.coords;weather.getWeather(t,r)},t=()=>{weather.getGeolocationByIP()};navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t):weather.getGeolocationByIP()}},validate=e=>{0==e.length?alert("Please enter a city"):0==/^[A-Za-z\s]*$/.test(e)?alert("Please enter correct city name"):(document.querySelector(".search-field").value="",weather.getCityCoordinate(e))};weather.getGeolocationByGPS(),document.querySelector(".search-btn").addEventListener("click",(()=>{validate(document.querySelector(".search-field").value)})),document.querySelector(".search-field").addEventListener("keyup",(e=>{"Enter"==e.key&&validate(document.querySelector(".search-field").value)}));
//# sourceMappingURL=script.js.map